<div class="container">
    <div class="card no-border shadow padding-top-bottom-md">
        <div class="card-body">
            <h4 class="user-change-password-text mb-4 font-weight-normal">
                {{ 'user.changePassword' | translate }}
            </h4>
            <form #changePasswordForm="ngForm" (keyup.enter)="(!validatePassword(userChangePasswordDto.newPassword) || changePasswordForm.invalid || userChangePasswordDto.newPassword !== userChangePasswordDto.newPasswordConfirm)? null : changePassword()">
                <div class="row">
                    <div class="form-group col-sm-4 offset-sm-4 mt-2">
                        <input type="password"
                               placeholder="{{ 'user.oldPassword' | translate }}"
                               [autofocus]="true"
                               [autofocusDelay]="200"
                               class="form-control"
                               noWhiteSpacesValidation
                               [(ngModel)]="userChangePasswordDto.oldPassword"
                               name="oldPassword" />
                    </div>

                    <div class="form-group col-sm-4 offset-sm-4 mt-3">
                        <input type="password"
                               placeholder="{{ 'user.newPassword' | translate }}"
                               class="form-control"
                               noWhiteSpacesValidation
                               [(ngModel)]="userChangePasswordDto.newPassword"
                               name="newPassword" />
                    </div>

                    <div class="form-group col-sm-4 offset-sm-4 mt-3">
                        <input type="password"
                               placeholder="{{ 'user.newPasswordConfirm' | translate }}"
                               class="form-control"
                               noWhiteSpacesValidation
                               [(ngModel)]="userChangePasswordDto.newPasswordConfirm"
                               name="newPasswordConfirm" />
                    </div>

                    <div class="form-group col-sm-4 offset-sm-4 mt-3">
                        <sync-button [click]="changePassword"
                                     [clickContext]="this"
                                     text="user.changePasswordButton"
                                     btnClass="btn btn-primary w-100"
                                     [showTextOnPending]="false"
                                     [disabled]="!validatePassword(userChangePasswordDto.newPassword) || changePasswordForm.invalid || userChangePasswordDto.newPassword !== userChangePasswordDto.newPasswordConfirm">
                        </sync-button>
                    </div>

                    <div *ngIf="userChangePasswordDto.newPassword && userChangePasswordDto.newPasswordConfirm && userChangePasswordDto.newPassword !== userChangePasswordDto.newPasswordConfirm"
                         class="form-group col-sm-4 offset-sm-4 mt-2">
                        <label class="form-label fs-16 text-red">{{ 'user.notSamePasswords' | translate }}</label>
                    </div>

                    <div *ngIf="!validatePassword(userChangePasswordDto.newPassword)"
                         class="form-group col-sm-4 offset-sm-4 mt-2">
                        <label class="form-label fs-16 text-red">
                            <div>{{ 'user.passwordSymbolsLength' | translate }}</div>
                            <div>{{ 'user.passwordSymbolsSpecification' | translate }}</div>
                        </label>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>